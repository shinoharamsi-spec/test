# Databricks × GitHub チーム開発ガイド

このガイドでは、Databricks と GitHub を使ったチーム開発の基本的なワークフローを説明します。

## 1. 初期設定（各メンバーが1回だけ実施）

### GitHub 認証情報の設定
1. Databricks ワークスペース右上の **ユーザー名** をクリック → `Settings`
2. `Linked accounts` → `Add Git credential`
3. Git provider で **GitHub** を選択
4. **OAuth** または **Personal Access Token** で認証
   - OAuth（推奨）：認証フローに従うだけ
   - PAT：GitHub で生成したトークンを入力

### リポジトリのクローン
1. Workspace → Users → 自分のフォルダ内で右クリック
2. `Create` → `Git folder`
3. GitHub リポジトリの URL を入力
4. `Create` をクリック

## 2. 日常的な開発ワークフロー

### 作業開始前：最新の変更を取得
```
1. Git フォルダを開く
2. 画面右上のブランチ名をクリック
3. 「Pull」ボタンをクリック
```

### コードの編集
- ノートブックを開いて通常通りコードを編集・実行
- 変更は自動的に追跡されます

### 変更をコミット＆プッシュ
```
1. ブランチ名をクリックして Git ダイアログを開く
2. 変更されたファイルを確認
3. コミットメッセージを入力（例：「データ前処理ロジックを追加」）
4. 「Commit & Push」をクリック
```

## 3. ブランチ戦略（推奨）

### 基本ルール
- **main ブランチ**：本番環境用、直接編集しない
- **feature ブランチ**：新機能開発用、個人またはチームで作業

### ブランチの作成と切り替え
```
1. Git ダイアログを開く
2. 「Branch」ドロップダウンをクリック
3. 「Create Branch」を選択
4. ブランチ名を入力（例：feature/data-analysis）
5. 新しいブランチで作業開始
```

### プルリクエストでマージ
```
1. feature ブランチで作業完了後、Commit & Push
2. GitHub のウェブサイトを開く
3. 「Pull Request」を作成
4. チームメンバーにレビューを依頼
5. 承認後、main ブランチにマージ
```

## 4. ベストプラクティス

### コミットメッセージ
- **明確で具体的に**：「修正」ではなく「顧客データの重複削除ロジックを修正」
- **日本語でOK**：チームが読みやすい言語で

### コミット頻度
- **小さく頻繁に**：1つの機能が完成したらすぐコミット
- **動作するコードをコミット**：エラーのあるコードは避ける

### Pull（更新）のタイミング
- **作業開始前**：必ず最新の変更を取得
- **コミット前**：競合を避けるため、プッシュ前にも Pull

### ファイル形式
- **`.py` 形式**：ソースコードのみ（推奨、差分が見やすい）
- **`.ipynb` 形式**：実行結果も含める場合

## 5. 競合（コンフリクト）の解決

### 競合が発生したら
1. Databricks が競合を検出して通知
2. 競合しているファイルを開く
3. 競合マーカー（`<<<<<<<`, `=======`, `>>>>>>>`）を確認
4. 正しいコードを選択または統合
5. 競合マーカーを削除
6. 再度 Commit & Push

### 競合を避けるコツ
- 作業前に必ず Pull
- 同じファイルを複数人で同時編集しない
- ブランチを活用して作業を分離

## 6. クイックリファレンス

| 操作 | 手順 |
|------|------|
| 最新の変更を取得 | ブランチ名クリック → Pull |
| 変更を保存 | ブランチ名クリック → コミットメッセージ入力 → Commit & Push |
| ブランチ作成 | ブランチ名クリック → Create Branch |
| ブランチ切り替え | ブランチ名クリック → 切り替え先を選択 |
| 変更履歴を確認 | GitHub ウェブサイトで Commits を表示 |

---

**困ったときは**：チームリーダーまたは GitHub に詳しいメンバーに相談しましょう！
